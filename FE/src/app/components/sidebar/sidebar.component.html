<div class="logo">
    <a routerLink="/dashboard" class="simple-text">
        <div class="logo-img">
            <img src="/assets/img/amenic.png"/>
        </div>
        Amenic
    </a>
</div>
<div class="sidebar-wrapper">
  <div *ngIf="isMobileMenu()">
    <!-- <form class="navbar-form">
      <span class="bmd-form-group">
        <div class="input-group no-border">
          <input type="text" value="" class="form-control" placeholder="Search...">
          <button mat-raised-button type="submit" class="btn btn-white btn-round btn-just-icon">
            <i class="material-icons">search</i>
            <div class="ripple-container"></div>
          </button>
        </div>
      </span>
    </form> -->
    <ul class="nav navbar-nav nav-mobile-menu">
        <li class="nav-item">
            <a class="nav-link" routerLink="home">
                <i class="material-icons">home</i>
                <p>
                    <span class="d-lg-none d-md-block">Trang b√°n v√©</span>
                </p>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" (click)="openScanner(scanner)" style="cursor: pointer;">
                <i class="material-icons">qr_code_scanner</i>
                <p>
                    <span class="d-lg-none d-md-block">Qu√©t m√£</span>
                </p>
            </a>
        </li>
        <li class="nav-item dropdown">
            <a class="nav-link" href="javascript:void(0)" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="material-icons">person</i>
                <p>
                    <span class="d-lg-none d-md-block">C√° nh√¢n</span>
                </p>
            </a>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" routerLink="user-profile">Th√¥ng tin c√° nh√¢n</a>
                <a class="dropdown-item" (click)="logout()">ƒêƒÉng xu·∫•t</a>
            </div>
        </li>
    </ul>
  </div>
    <ul class="nav">
        <li routerLinkActive="active" *ngFor="let menuItem of menuItems" class="{{menuItem.class}} nav-item">
            <ng-container *ngFor="let role of menuItem.role">
                <a *ngIf="role == jwtService.getRoleFromToken()" class="nav-link" [routerLink]="[menuItem.path]">
                    <!-- <i class="{{menuItem.icon}}"></i> -->
                    <i class="material-icons">{{menuItem.icon}}</i>
                    <p>{{menuItem.title}}</p>
                </a>
            </ng-container>
        </li>
    </ul>
</div>
<ng-template #scanner>

    <div class="scanner-shell" [hidden]="!hasDevices">

        <!-- <header>
            <mat-form-field appearance="fill">
                <select matNativeControl matInput (change)="onDeviceSelectChange($event.target.value)">
                    <option value="" [selected]="!currentDevice">Kh√¥ng c√≥ thi·∫øt b·ªã n√†o ƒë∆∞·ª£c ch·ªçn</option>
                    <option *ngFor="let device of availableDevices" [value]="device.deviceId"
                            [selected]="currentDevice && device.deviceId === currentDevice.deviceId">{{device.label}}</option>
                </select>
            </mat-form-field>
        </header> -->

        <zxing-scanner [torch]="torchEnabled"
                       [(device)]="currentDevice"
                       (scanSuccess)="onCodeResult($event)"
                       [tryHarder]="tryHarder"
                       (permissionResponse)="onHasPermission($event)"
                       (camerasFound)="onCamerasFound($event)"
                       (torchCompatible)="onTorchCompatible($event)"
                       [timeBetweenScans] = "5000"
                       [formats]="['QR_CODE', 'EAN_13', 'EAN_8', 'Code128']"></zxing-scanner>

        <section class="results">
            <div>
                <span id="qrResult"></span>
            </div>
            <!-- <button mat-icon-button (click)="clearResult()">&times;</button> -->
        </section>

    </div>

    <ng-container *ngIf="hasPermission === undefined">

        <h2>ƒêang ch·ªù c·∫•p ph√©p.</h2>

        <blockquote>
            N·∫øu thi·∫øt b·ªã c·ªßa b·∫°n kh√¥ng c√≥ m√°y ·∫£nh, s·∫Ω kh√¥ng c√≥ quy·ªÅn n√†o ƒë∆∞·ª£c y√™u c·∫ßu.
        </blockquote>

    </ng-container>

    <ng-container *ngIf="hasPermission === false">

        <h2>B·∫°n ƒë√£ t·ª´ ch·ªëi c·∫•p ph√©p m√°y ·∫£nh, ch√∫ng t√¥i kh√¥ng th·ªÉ qu√©t b·∫•t c·ª© th·ª© g√¨ n·∫øu kh√¥ng c√≥ n√≥. üò™</h2>

    </ng-container>

    <ng-container *ngIf="hasDevices === undefined">

        <h2>Kh√¥ng th·ªÉ ki·ªÉm tra thi·∫øt b·ªã.</h2>

        <blockquote>
            ƒêi·ªÅu n√†y c√≥ th·ªÉ ƒë∆∞·ª£c g√¢y ra b·ªüi m·ªôt s·ªë l·ªói b·∫£o m·∫≠t.
        </blockquote>

    </ng-container>

    <ng-container *ngIf="hasDevices === false">

        <h2>Kh√¥ng t√¨m th·∫•y thi·∫øt b·ªã n√†o.</h2>

        <blockquote>
            Thi·∫øt b·ªã c·ªßa b·∫°n kh√¥ng c√≥ thi·∫øt b·ªã ƒëa ph∆∞∆°ng ti·ªán n√†o ƒë∆∞·ª£c ƒë√≠nh k√®m.
        </blockquote>

    </ng-container>

    <div class="col-12 mt-3" style="text-align: center">
        <button type="button" (click)="this.scanner2.close()"  class="btn btn-danger">ƒê√≥ng</button>
    </div>
</ng-template>

<div id="demo">
</div>
